(window.webpackJsonp=window.webpackJsonp||[]).push([[79],{280:function(t,a,s){"use strict";a.a={name:"VueRemarkRoot",render:function(t){return t("div",null,this.$slots.default)}}},743:function(t,a,s){"use strict";s.r(a);var e=s(0),n=s(54),r=(s(53),s(17),s(28),s(280)),p=s(1),o=(p.default.config.optionMergeStrategies,{VueRemarkRoot:r.a}),c=function(t){var a=t.options.components=t.options.components||{},s=t.options.computed=t.options.computed||{};Object.keys(o).forEach((function(t){"object"===Object(n.a)(o[t])&&"function"==typeof o[t].render?a[t]=o[t]:s[t]=function(){return o[t]}}))},l=p.default.config.optionMergeStrategies,u="__vueRemarkFrontMatter",v={excerpt:null,title:"Schema API"};var i=function(t){t.options[u]&&(t.options[u]=v),p.default.util.defineReactive(t.options,u,v),t.options.computed=l.computed({$frontmatter:function(){return t.options[u]}},t.options.computed)},_=Object(e.a)({},(function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("VueRemarkRoot",[s("h1",{attrs:{id:"schema-api"}},[s("a",{attrs:{href:"#schema-api","aria-hidden":"true"}},[t._v("#")]),t._v("Schema API")]),s("blockquote",[s("p",[t._v("This API lets you define your own schema types to have persisted fields.")])]),s("p",[t._v("Gridsome generates the GraphQL schema for metadata and collections based on the data which is discovered on startup. That's great for simple projects but will often lead to errors with for example missing fields because content has been removed in an external source. This API lets you define your own schema types to have persisted fields.")]),s("p",[t._v("The Schema API can be used in the "),s("code",{pre:!0,attrs:{class:"language-text"}},[t._v("loadSource")]),t._v(" and "),s("code",{pre:!0,attrs:{class:"language-text"}},[t._v("createSchema")]),t._v(" hooks.")]),s("h2",{attrs:{id:"add-custom-schema-types"}},[s("a",{attrs:{href:"#add-custom-schema-types","aria-hidden":"true"}},[t._v("#")]),t._v("Add custom schema types")]),s("h3",{attrs:{id:"addschematypestypes"}},[s("a",{attrs:{href:"#addschematypestypes","aria-hidden":"true"}},[t._v("#")]),t._v("addSchemaTypes(types)")]),s("ul",[s("li",[t._v("types "),s("code",{pre:!0,attrs:{class:"language-text"}},[t._v("string | array")]),s("em",[t._v("Required.")])])]),s("p",[t._v("Schema types can be added as an "),s("a",{attrs:{href:"https://graphql.org/learn/schema/",target:"_blank",rel:"nofollow noopener noreferrer"}},[t._v("SDL")]),t._v(" string or by using the  "),s("a",{attrs:{href:"/docs/schema-api/#factory-methods"}},[t._v("factory methods")]),t._v(". Types for collections "),s("strong",[t._v("must")]),t._v(" implement the "),s("code",{pre:!0,attrs:{class:"language-text"}},[t._v("Node")]),t._v(" interface. And Gridsome will not infer field types for custom fields unless the "),s("a",{attrs:{href:"/docs/schema-api/#infer"}},[s("code",{pre:!0,attrs:{class:"language-text"}},[t._v("@infer")])]),t._v(" directive is used.")]),s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",{pre:!0,attrs:{class:"language-js"}},[t._v("api"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("loadSource")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" addSchemaTypes "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("addSchemaTypes")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token template-string"}},[s("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("\n    type Post implements Node {\n      title: String\n    }\n  ")]),s("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")])])]),s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",{pre:!0,attrs:{class:"language-js"}},[t._v("api"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("loadSource")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" addSchemaTypes"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" schema "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("addSchemaTypes")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n    schema"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("createObjectType")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      name"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Post'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      interfaces"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Node'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      fields"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        title"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'String'")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")])])]),s("p",[s("a",{attrs:{href:"https://graphql.org/learn/schema/",target:"_blank",rel:"nofollow noopener noreferrer"}},[t._v("Read more about Schemas and Types")])]),s("h2",{attrs:{id:"add-custom-field-resolvers"}},[s("a",{attrs:{href:"#add-custom-field-resolvers","aria-hidden":"true"}},[t._v("#")]),t._v("Add custom field resolvers")]),s("h3",{attrs:{id:"addschemaresolversresolvers"}},[s("a",{attrs:{href:"#addschemaresolversresolvers","aria-hidden":"true"}},[t._v("#")]),t._v("addSchemaResolvers(resolvers)")]),s("ul",[s("li",[t._v("resolvers "),s("code",{pre:!0,attrs:{class:"language-text"}},[t._v("object")]),s("em",[t._v("Required.")])])]),s("p",[t._v("Resolvers are methods that are executed on each field in the query. The default resolvers for types like "),s("code",{pre:!0,attrs:{class:"language-text"}},[t._v("String")]),t._v(" or "),s("code",{pre:!0,attrs:{class:"language-text"}},[t._v("Int")]),t._v(" simply return the value without any modifications. Resolvers for fields that are referencing another node are interacting with the internal store to return data from the requested node.")]),s("p",[t._v("Use the "),s("code",{pre:!0,attrs:{class:"language-text"}},[t._v("addSchemaResolvers()")]),t._v(" action to add new fields or override existing fields. The resolver method will receive four arguments that can be used:")]),s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",{pre:!0,attrs:{class:"language-js"}},[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("addSchemaResolvers")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  TypeName"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("fieldName")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("obj"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" args"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" context"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" info")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")])])]),s("ul",[s("li",[s("code",{pre:!0,attrs:{class:"language-text"}},[t._v("obj")]),t._v(" The results from the resolver on the parent field.")]),s("li",[s("code",{pre:!0,attrs:{class:"language-text"}},[t._v("args")]),t._v(" An object with arguments from the query.")]),s("li",[s("code",{pre:!0,attrs:{class:"language-text"}},[t._v("context")]),t._v(" An object with references to the internal store etc.")]),s("li",[s("code",{pre:!0,attrs:{class:"language-text"}},[t._v("info")]),t._v(" Information about the execution state of the query.")])]),s("p",[s("a",{attrs:{href:"https://graphql.org/learn/execution/#root-fields-resolvers",target:"_blank",rel:"nofollow noopener noreferrer"}},[t._v("Read more about GraphQL resolvers")])]),s("h4",{attrs:{id:"add-a-new-field-with-a-custom-resolver"}},[s("a",{attrs:{href:"#add-a-new-field-with-a-custom-resolver","aria-hidden":"true"}},[t._v("#")]),t._v("Add a new field with a custom resolver")]),s("p",[t._v("This example adds a new "),s("code",{pre:!0,attrs:{class:"language-text"}},[t._v("fullName")]),t._v(" field on the "),s("code",{pre:!0,attrs:{class:"language-text"}},[t._v("User")]),t._v(" type which merges two fields:")]),s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",{pre:!0,attrs:{class:"language-js"}},[t._v("api"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("loadSource")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" addSchemaResolvers "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("addSchemaResolvers")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    User"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("fullName")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("obj")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token template-string"}},[s("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")]),s("span",{pre:!0,attrs:{class:"token interpolation"}},[s("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("${")]),t._v("obj"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("firstName"),s("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("}")])]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v(" ")]),s("span",{pre:!0,attrs:{class:"token interpolation"}},[s("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("${")]),t._v("obj"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("lastName"),s("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("}")])]),s("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")])]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")])])]),s("h4",{attrs:{id:"add-a-new-field-with-arguments"}},[s("a",{attrs:{href:"#add-a-new-field-with-arguments","aria-hidden":"true"}},[t._v("#")]),t._v("Add a new field with arguments")]),s("p",[t._v("This example adds a "),s("code",{pre:!0,attrs:{class:"language-text"}},[t._v("title")]),t._v(" field on the "),s("code",{pre:!0,attrs:{class:"language-text"}},[t._v("Post")]),t._v(" type with an argument to uppercase the returned value:")]),s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",{pre:!0,attrs:{class:"language-js"}},[t._v("api"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("loadSource")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" addSchemaResolvers "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("addSchemaResolvers")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    Post"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      title"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        args"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n          uppercased"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Boolean'")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("resolve")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("obj"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" args")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n          "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("args"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("uppercased"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" obj"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("title"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("toUpperCase")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n          "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n          "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" obj"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("title\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")])])]),s("p",[t._v("Then in a query, use the argument to get an uppercased title:")]),s("pre",{pre:!0,attrs:{class:"language-graphql"}},[s("code",{pre:!0,attrs:{class:"language-graphql"}},[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("query")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  post "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    title"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("uppercased")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")])])]),s("h3",{attrs:{id:"addschemaschema"}},[s("a",{attrs:{href:"#addschemaschema","aria-hidden":"true"}},[t._v("#")]),t._v("addSchema(schema)")]),s("ul",[s("li",[t._v("schema "),s("code",{pre:!0,attrs:{class:"language-text"}},[t._v("GraphQLSchema")]),s("em",[t._v("Required.")])])]),s("p",[t._v("Add a custom GraphQL schema that will be merged with the internal schema.")]),s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",{pre:!0,attrs:{class:"language-js"}},[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" GraphQLSchema "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'gridsome/graphql'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\napi"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("loadSource")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" addSchema "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("addSchema")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("GraphQLSchema")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ...")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")])])]),s("p",[s("a",{attrs:{href:"https://graphql.org/graphql-js/type/",target:"_blank",rel:"nofollow noopener noreferrer"}},[t._v("Read more about GraphQL schemas")])]),s("h2",{attrs:{id:"type-extensions"}},[s("a",{attrs:{href:"#type-extensions","aria-hidden":"true"}},[t._v("#")]),t._v("Type extensions")]),s("h3",{attrs:{id:"infer"}},[s("a",{attrs:{href:"#infer","aria-hidden":"true"}},[t._v("#")]),t._v("@infer")]),s("p",[t._v("Custom schemas for meta data and collections will not infer any more field types from the source by default. Add the "),s("code",{pre:!0,attrs:{class:"language-text"}},[t._v("@infer")]),t._v(" extension to add discovered fields that aren't defined in the custom schema.")]),s("pre",{pre:!0,attrs:{class:"language-graphql"}},[s("code",{pre:!0,attrs:{class:"language-graphql"}},[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("type")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Post")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("implements")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Node")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token directive function"}},[t._v("@infer")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("title")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" String\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")])])]),s("pre",{pre:!0,attrs:{class:"language-graphql"}},[s("code",{pre:!0,attrs:{class:"language-graphql"}},[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("type")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Metadata")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token directive function"}},[t._v("@infer")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("siteName")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" String\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")])])]),s("h2",{attrs:{id:"field-extensions"}},[s("a",{attrs:{href:"#field-extensions","aria-hidden":"true"}},[t._v("#")]),t._v("Field extensions")]),s("p",[t._v("Field extensions extends the default resolvers.")]),s("h3",{attrs:{id:"proxy"}},[s("a",{attrs:{href:"#proxy","aria-hidden":"true"}},[t._v("#")]),t._v("@proxy")]),s("p",[t._v("The "),s("code",{pre:!0,attrs:{class:"language-text"}},[t._v("@proxy")]),t._v(" extension can be used to return a value from another field.")]),s("pre",{pre:!0,attrs:{class:"language-graphql"}},[s("code",{pre:!0,attrs:{class:"language-graphql"}},[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("type")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Post")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("implements")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Node")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("userName")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" String "),s("span",{pre:!0,attrs:{class:"token directive function"}},[t._v("@proxy")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("from")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"user_name"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")])])]),s("pre",{pre:!0,attrs:{class:"language-graphql"}},[s("code",{pre:!0,attrs:{class:"language-graphql"}},[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("type")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Metadata")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("siteName")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" String "),s("span",{pre:!0,attrs:{class:"token directive function"}},[t._v("@proxy")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("from")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"other.field"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")])])]),s("h3",{attrs:{id:"reference"}},[s("a",{attrs:{href:"#reference","aria-hidden":"true"}},[t._v("#")]),t._v("@reference")]),s("p",[t._v("Fields of another node type will lookup the node by default, but no arguments will be inherited from the internal resolvers. Use")]),s("pre",{pre:!0,attrs:{class:"language-graphql"}},[s("code",{pre:!0,attrs:{class:"language-graphql"}},[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("type")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Post")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("implements")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Node")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("author")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" Author "),s("span",{pre:!0,attrs:{class:"token directive function"}},[t._v("@reference")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("by")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"slug"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")])])]),s("h2",{attrs:{id:"factory-methods"}},[s("a",{attrs:{href:"#factory-methods","aria-hidden":"true"}},[t._v("#")]),t._v("Factory methods")]),s("h3",{attrs:{id:"schemacreateobjecttypeoptions"}},[s("a",{attrs:{href:"#schemacreateobjecttypeoptions","aria-hidden":"true"}},[t._v("#")]),t._v("schema.createObjectType(options)")]),s("ul",[s("li",[t._v("options "),s("code",{pre:!0,attrs:{class:"language-text"}},[t._v("object")]),s("em",[t._v("Required.")]),s("ul",[s("li",[t._v("name "),s("code",{pre:!0,attrs:{class:"language-text"}},[t._v("string")]),s("em",[t._v("Required.")])]),s("li",[t._v("fields "),s("code",{pre:!0,attrs:{class:"language-text"}},[t._v("object")]),s("em",[t._v("Required.")])]),s("li",[t._v("extensions "),s("code",{pre:!0,attrs:{class:"language-text"}},[t._v("object")])]),s("li",[t._v("interfaces "),s("code",{pre:!0,attrs:{class:"language-text"}},[t._v("string[]")])])])])]),s("h3",{attrs:{id:"schemacreateuniontypeoptions"}},[s("a",{attrs:{href:"#schemacreateuniontypeoptions","aria-hidden":"true"}},[t._v("#")]),t._v("schema.createUnionType(options)")]),s("ul",[s("li",[t._v("options "),s("code",{pre:!0,attrs:{class:"language-text"}},[t._v("object")]),s("em",[t._v("Required.")]),s("ul",[s("li",[t._v("name "),s("code",{pre:!0,attrs:{class:"language-text"}},[t._v("string")]),s("em",[t._v("Required.")])]),s("li",[t._v("types "),s("code",{pre:!0,attrs:{class:"language-text"}},[t._v("string[]")]),s("em",[t._v("Required.")])])])])]),s("h3",{attrs:{id:"schemacreateenumtypeoptions"}},[s("a",{attrs:{href:"#schemacreateenumtypeoptions","aria-hidden":"true"}},[t._v("#")]),t._v("schema.createEnumType(options)")]),s("ul",[s("li",[t._v("options "),s("code",{pre:!0,attrs:{class:"language-text"}},[t._v("object")]),s("em",[t._v("Required.")]),s("ul",[s("li",[t._v("name "),s("code",{pre:!0,attrs:{class:"language-text"}},[t._v("string")]),s("em",[t._v("Required.")])]),s("li",[t._v("values "),s("code",{pre:!0,attrs:{class:"language-text"}},[t._v("object")]),s("em",[t._v("Required.")])])])])]),s("h3",{attrs:{id:"schemacreateinterfacetypeoptions"}},[s("a",{attrs:{href:"#schemacreateinterfacetypeoptions","aria-hidden":"true"}},[t._v("#")]),t._v("schema.createInterfaceType(options)")]),s("ul",[s("li",[t._v("options "),s("code",{pre:!0,attrs:{class:"language-text"}},[t._v("object")]),s("em",[t._v("Required.")]),s("ul",[s("li",[t._v("name "),s("code",{pre:!0,attrs:{class:"language-text"}},[t._v("string")]),s("em",[t._v("Required.")])]),s("li",[t._v("fields "),s("code",{pre:!0,attrs:{class:"language-text"}},[t._v("object")]),s("em",[t._v("Required.")])])])])]),s("h3",{attrs:{id:"schemacreateinputtypeoptions"}},[s("a",{attrs:{href:"#schemacreateinputtypeoptions","aria-hidden":"true"}},[t._v("#")]),t._v("schema.createInputType(options)")]),s("ul",[s("li",[t._v("options "),s("code",{pre:!0,attrs:{class:"language-text"}},[t._v("object")]),s("em",[t._v("Required.")]),s("ul",[s("li",[t._v("name "),s("code",{pre:!0,attrs:{class:"language-text"}},[t._v("string")]),s("em",[t._v("Required.")])]),s("li",[t._v("fields "),s("code",{pre:!0,attrs:{class:"language-text"}},[t._v("object")]),s("em",[t._v("Required.")])])])])]),s("h2",{attrs:{id:"example-usage"}},[s("a",{attrs:{href:"#example-usage","aria-hidden":"true"}},[t._v("#")]),t._v("Example usage")]),s("h3",{attrs:{id:"defining-a-collection-schema"}},[s("a",{attrs:{href:"#defining-a-collection-schema","aria-hidden":"true"}},[t._v("#")]),t._v("Defining a collection schema")]),s("pre",{pre:!0,attrs:{class:"language-graphql"}},[s("code",{pre:!0,attrs:{class:"language-graphql"}},[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("type")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Post")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("implements")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Node")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("title")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" String\n  "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("publishedAt")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" Date\n  "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("author")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" Author\n  "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("content")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" String\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("type")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Author")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("implements")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Node")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("name")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" String\n  "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("picture")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" Image\n  "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("description")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" String\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")])])]),s("p",[s("em",[t._v("Custom schema types for a collection "),s("strong",[t._v("must")]),t._v(" implement the "),s("code",{pre:!0,attrs:{class:"language-text"}},[t._v("Node")]),t._v(" interface.")])]),s("h3",{attrs:{id:"defining-the-metadata-schema"}},[s("a",{attrs:{href:"#defining-the-metadata-schema","aria-hidden":"true"}},[t._v("#")]),t._v("Defining the metadata schema")]),s("pre",{pre:!0,attrs:{class:"language-graphql"}},[s("code",{pre:!0,attrs:{class:"language-graphql"}},[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("type")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Metadata")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("siteName")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" String\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")])])])])}),[],!1,null,null,null);"function"==typeof c&&c(_),"function"==typeof i&&i(_);a.default=_.exports}}]);